---
title: "Formats"
output:
  html_document:
    toc_depth: 3
---

## Overview

The **tutor** package is designed to be used with a wide variety of R Markdown formats. A tutorial is simply a directory containing an R Markdown document which:

1. Loads the **tutor** package.

2. Includes one or more interactive components (exercises, quiz questions, etc.).

3. Uses the `runtime: shiny_prerendered` directive in the YAML header.

4. Uses a format which inherits from the [`html_document_base`](https://www.rdocumentation.org/packages/rmarkdown/topics/html_document_base) format and is marked as `boostrap_compatible` (this is a parameter of [`html_document_base`](https://www.rdocumentation.org/packages/rmarkdown/topics/html_document_base) which indicates that it's safe to inject Booststrap CSS into the document).

This means you can use **tutor** with the [`html_document`](http://rmarkdown.rstudio.com/html_document_format.html), [`ioslides_presentation`](http://rmarkdown.rstudio.com/ioslides_presentation_format.html), and [`slidy_presentation`](http://rmarkdown.rstudio.com/slidy_presentation_format.html) formats as well as many others. 

We've shown plenty of examples of the default format, here's an example of embedding a tutorial within a `slidy_presentation`:

<img src="images/slidy.png" width="650" height="474" style="border: solid 1px #cccccc;"/>

You can run a live version of this example with:

```r
tutor::run_tutorial("slidy", package = "tutor")
```

## Tutorial Format

The **tutor** package includes a `tutor::tutorial` R Markdown format which which provides some default layout and behavior (including progress tracking) which you'll likely want to use in many of your tutorials. 

The format also includes features for progressively revealing sections and allowing users to optionally skip exercises they are having trouble with (both of these features are described below).

### Creating a Tutorial

You can create a new `tutor::tutorial` document from a template via the **New R Markdown** dialog in RStudio:

![](images/create-new-tutorial.png){width=609 height=482}

The benefits of using the `tutor::tutorial` format include:

1. More appropriate defaults are provided for various things including figure sizes and data frame printing.

2. A floating table of contents for easy navigation between sections is provided by default. 

3. Visual adornments are added to the table of contents indicating which parts of the tutorial have been completed.

4. A "Start Over" button is added to the table of contents regsion to allow users to clear previous work within the tutorial.

Here's what a `tutor::tutorial` document looks like by default:

![](images/tutorial-format.png){width=1184 height=737 style="border: solid 1px #cccccc; margin-bottom: 12px;"}

### Progressive Reveal

You might want users of your tutorials to see only one sub-topic at a time as they work through the material (this can be helpful to reduce distractions and maintain focus on the current task). If you specify the `progressive` option then all Level 3 headings (`###`) will be revealed progressively. For example:

<div id="tutorialyaml-progressive"></div>
<script type="text/javascript">loadSnippet('tutorialyaml-progressive', 'markdown')</script>

You can also specify this option on a per topic basis using the `data-progressive` attribute. For example, the following code enables progressive rendering for a single topic:

<div id="tutorialyaml-progressive-topic"></div>
<script type="text/javascript">loadSnippet('tutorialyaml-progressive-topic', 'markdown')</script>

You can also use `data-progressive=FALSE` to disable progressive rendering for an individual topic if the global `progressive` option is `TRUE`.

Progressive reveal provides an easy way to cue exercises one at a time: place each exercise under its own Level 3 header (`###`). This can be useful when a second exercises builds on the first, giving away the answer to the first.

### Exercise Skipping

When the `progressive` option is set to true, the tutorial will require students to complete any exercises in a sub-section before advancing to the next sub-section.

You may want to allow users of your tutorials to skip through exercises that they can't quite figure out. This might especially be true if you want users to be able to optionally see the next exercise even if they haven't completed the prior one.

If you specify the `allow_skip` option then students will be able to advance through a sub-section without completing the exercises. For example:

<div id="tutorialyaml-allowskip"></div>
<script type="text/javascript">loadSnippet('tutorialyaml-allowskip', 'markdown')</script>

You can also specify this option on a per sub-topic basis using the `data-allow-skip` attribute. For example, the following code enables exercise skipping within a single sub-topic:

<div id="tutorialyaml-allowskip-topic"></div>
<script type="text/javascript">loadSnippet('tutorialyaml-allowskip-topic', 'markdown')</script>

You can also use `data-allow-skip=FALSE` to disable exercise skipping rendering for an individual sub-topic if the global `allow-skip` option is `TRUE`.


## Custom Formats

The **tutor** package exposes a JavaScript API which can be used to create new R Markdown formats that include progress tracking similar to that which is provided by the `tutor::tutorial` format.

The implementation of the `tutor::tutorial` format is extremely straightforward and provides a template for creating additional new formats via the API:

1. The **[tutorial-format.R](https://github.com/rstudio/tutor/blob/master/R/tutorial-format.R)** file includes the definition of the custom R Markdown format function. 

2. The **[tutorial-format.js](https://github.com/rstudio/tutor/blob/master/inst/rmarkdown/templates/tutorial/resources/tutorial-format.js)** file demonstrates the use of the tutor JavaScript API to add progress tracking features to the default R Markdown floating table of contents.

3. The **[inst/rmarkdown/templates/tutorial](https://github.com/rstudio/tutor/tree/master/inst/rmarkdown/templates/tutorial)** directory includes all the files and configuration required to make the format available as a custom R Markdown template within the RStudio IDE.



